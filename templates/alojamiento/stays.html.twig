{% extends 'reserva.html.twig' %}

{% block title %}Orbi|Reserva{% endblock %}

{% block body %}


  <section class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-7">
        {{ form_start(form)}}
            <p class="subtitle text-primary">Esta es la pagina de pago</p>
            <h1 class="h2 mb-5"> Reserva y Pagar</h1>
            <div class="text-block mb-4">
                <h5 class="mb-4"><span id="noches">1</span> noches en {{alojamiento.getUbicacion().getProvincia()}}</h5>
                    <div class="row mb-3">
                          
                       <p class="text-sm mb-0">Fecha de llegada<br>{{ form_widget(form.llegada,{'value': formGet.llegada}) }}
                      </p>
                    </div>
              
                <p class="text-sm mb-0">Fecha de salida<br>{{ form_widget(form.salida,{'value': formGet.salida}) }}</p>
            </div>
                <div class="text-block mb-1">
                    <label class="h5" for="form_guests">Huespedes</label>
                    <p class="text-sm text-muted">Aqui podras cambiar el numero de personas </p>
                        <div class="row">
                              <div class="col-lg-6 mb-3">
                                   {{ form_widget(form.huespedes,{'type':'number','value': formGet.huespedes}) }}
                              </div>
                        </div>
                </div>
                <div class="row form-block flex-column flex-sm-row ">
  
              <div class="col text-center d-grid gap-2 mt-5">
                  {% if app.user %}

                        <button type="submit" class="btn btn-primary " name="reservar">confirmar</button>
                  {% else %}
                  <h3 class="text-muted text-center fw-light">¡Para realizar una reserva debes iniciar Sesión!</h3>
                  <a href="{{path('login')}}" class="btn btn-primary"
                     name="reservar">Iniciar Sesion</a>
                     <p class="text-center">o</p>
                  <a href="{{path('app_register')}}" class="btn btn-danger "
                     name="reservar">Registrarse</a>
                  {% endif %}
              </div>

              </div>
              
          
           {{form_end(form)}}
        </div>

        <div class="col-lg-5 ps-xl-5">
              <div class="card border-0 shadow">
                <div class="card-body p-4">
                  <div class="text-block pb-3">
                    <div class="d-flex align-items-center">
                      <div>
                        <h6>{{alojamiento.getNombre()}}</h6>
                        <p class="text-muted text-sm mb-0">{{alojamiento.getCaracteristicas()}}</p>
                        <p class="text-muted text-sm mb-0">{{alojamiento.getUbicacion().getDireccion()}}, {{alojamiento.getUbicacion().getComunidad()}}</p>
                            <div class="mt-n1"><i class="fa fa-xs fa-star text-primary"></i><i class="fa fa-xs fa-star text-primary"></i><i class="fa fa-xs fa-star text-primary"></i><i class="fa fa-xs fa-star text-primary"></i><i class="fa fa-xs fa-star text-gray-200"></i>
                            </div>
                      </div>
                     <img class="ms-auto rounded" src="{{asset('/img/alojamientos/'  ~ alojamiento.Images[0].ImageName)}}" alt="" width="200px">
                    </div>
                  </div>

                  <div class="text-block py-3">
                    <ul class="list-unstyled mb-0 " >
                      <li class="mb-3 " ><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
  <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
  <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
  <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
</svg></i><span id="huespedes"> {{formGet.huespedes}}</span> huespedes</li>
                         <div class="d-flex flex-row">
                           <li class="mb-0" ><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-date-fill" viewBox="0 0 16 16">
  <path d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zm5.402 9.746c.625 0 1.184-.484 1.184-1.18 0-.832-.527-1.23-1.16-1.23-.586 0-1.168.387-1.168 1.21 0 .817.543 1.2 1.144 1.2z"/>
  <path d="M16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-6.664-1.21c-1.11 0-1.656-.767-1.703-1.407h.683c.043.37.387.82 1.051.82.844 0 1.301-.848 1.305-2.164h-.027c-.153.414-.637.79-1.383.79-.852 0-1.676-.61-1.676-1.77 0-1.137.871-1.809 1.797-1.809 1.172 0 1.953.734 1.953 2.668 0 1.805-.742 2.871-2 2.871zm-2.89-5.435v5.332H5.77V8.079h-.012c-.29.156-.883.52-1.258.777V8.16a12.6 12.6 0 0 1 1.313-.805h.632z"/>
</svg><span id="llegada"> {{formGet.llegada}}</span></li>
                           <li class="mb-0 mx-3" ><span  id="salida"> {{formGet.salida}}</span></li>
                        </div>
                    </ul>
                  </div>

                  <div class="text-block pt-3 pb-0">
                    <table class="w-100">
                      <tbody>
                        <tr>
                          <th class="fw-normal py-2"><span id="base" title={{precio}}>{{precio}}</span> x <span id="dias">{{dias}}</span> noches</th>
                          <td class="text-end py-2"><span id="precio">{{total}}</span> €</td>
                        </tr>
                        <tr>
                          <th class="fw-normal pt-2 pb-3">extras</th>
                          <td class="text-end pt-2 pb-3">00.00 €</td>
                        </tr>
                      </tbody>
                      <tfoot>
                        <tr class="border-top">
                          <th class="pt-3">Total</th>
                          <td class="fw-bold text-end pt-3"><span id="total">{{total}}</span><span> €</span></td>
                        </tr>
                      </tfoot>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
    </div>
  </section>
 
 
 
{% block javascripts %}
{{parent()}}
<script src="{{asset('js/confirm.js')}}"></script>
 

      
{% endblock %}




{% endblock %}